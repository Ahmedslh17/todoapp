<%# app/views/tasks/show.html.erb %>
<section class="mx-auto mt-8 max-w-xl rounded-3xl border border-slate-200 bg-white p-6 shadow-sm">
  <h1 class="text-xl font-semibold tracking-tight mb-2">
    DÃ©tail de la tÃ¢che
  </h1>

  <p class="text-sm text-slate-500 mb-4">
    Voici les informations de ta tÃ¢che, avec son statut et lâ€™Ã©ventuel rappel programmÃ©.
  </p>

  <div class="mt-2 rounded-2xl border border-indigo-100 bg-indigo-50/40 px-4 py-4">
    <!-- Titre de la tÃ¢che bien mis en avant -->
    <p class="text-lg font-semibold text-slate-900 <%= 'line-through text-slate-400' if @task.done %>">
      <%= @task.title %>
    </p>

    <!-- Statut -->
    <p class="mt-3 text-xs uppercase tracking-wide text-slate-500">
      Statut :
      <% if @task.done? %>
        <span class="inline-flex items-center rounded-full bg-emerald-100 px-2.5 py-0.5 text-[11px] font-semibold text-emerald-700">
          âœ“ TerminÃ©e
        </span>
      <% else %>
        <span class="inline-flex items-center rounded-full bg-amber-100 px-2.5 py-0.5 text-[11px] font-semibold text-amber-700">
          Ã€ faire
        </span>
      <% end %>
    </p>

    <!-- Rappel -->
    <% if @task.reminder_at.present? %>
      <p class="mt-4 text-sm text-slate-700">
        <span class="inline-flex items-center rounded-full bg-amber-100 px-2 py-0.5 text-xs font-semibold text-amber-800 mr-2">
          ğŸ”” Rappel
        </span>
        ProgrammÃ© le
        <span class="font-medium">
          <%= l @task.reminder_at.in_time_zone("Europe/Paris"), format: "%d/%m/%Y Ã  %H:%M" %>
        </span>
      </p>
    <% else %>
      <p class="mt-4 text-sm text-slate-400">
        Aucun rappel programmÃ© pour cette tÃ¢che.
      </p>
    <% end %>
  </div>

  <!-- Boutons dâ€™actions colorÃ©s -->
  <div class="mt-6 flex flex-wrap gap-3">
    <%= link_to "â† Retour Ã  la liste", tasks_path,
          class: "inline-flex items-center rounded-xl border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-50" %>

    <%= link_to edit_task_path(@task),
          class: "inline-flex items-center gap-1 rounded-xl border border-sky-500 bg-sky-50 px-4 py-2 text-sm font-medium text-sky-700 hover:bg-sky-100" do %>
      <span>âœï¸</span><span>Modifier</span>
    <% end %>

    <%= button_to task_path(@task),
          method: :delete,
          data: { confirm: "Supprimer cette tÃ¢che ?", turbo: false },
          class: "inline-flex items-center gap-1 rounded-xl border border-rose-500 bg-rose-50 px-4 py-2 text-sm font-medium text-rose-700 hover:bg-rose-100" do %>
      <span>ğŸ—‘ï¸</span><span>Supprimer</span>
    <% end %>
  </div>
</section>
